# 001. 项目结构重组

日期: 2025-03-19
作者: 团队
状态: 已接受

## 背景和问题陈述

在开发 Agentic Coding 框架的过程中，我们发现当前的项目结构存在几个问题：

1. 没有明确区分人类和 AI 的责任范围
2. 文档组织不够清晰，难以快速找到相关信息
3. 随着项目发展，文档数量增加，需要更系统化的组织方式
4. 不同类型的文档混合在一起，导致上下文混乱

我们需要重新设计项目结构，以解决这些问题，并为未来的扩展提供更好的基础。

## 考虑的方案

### 方案 1: 完全由 AI 维护的单一目录结构

在这个方案中，所有文档都存放在一个由 AI 维护的 `.agent` 目录下。

优点:
- 简单，易于理解
- 所有文档集中在一处

缺点:
- 没有区分人类和 AI 的职责
- 随着项目增长，可能变得难以管理
- 人类和 AI 的工作成果混合，可能造成混淆

### 方案 2: 分离人类和 AI 的责任区域

在这个方案中，我们将目录结构分为两个主要部分：
- `/docs` 目录：由人类和 AI 共同维护，包含项目的核心规范和决策
- `/.agent` 目录：主要由 AI 维护，用于存储 AI 的工作记录和经验

优点:
- 明确区分人类和 AI 的责任范围
- 提供更好的文档组织和可发现性
- 支持更复杂的项目结构
- 对长期维护更友好

缺点:
- 结构略微复杂
- 需要更详细的指导来确保正确使用

## 决策结果

我们选择了方案 2，因为它提供了更好的职责划分和长期可维护性。具体结构如下：

```plaintext
project-root/
├── .agent/                         # AI/代理特定资源（由AI维护）
│   ├── tasks/                      # 任务执行历史
│   ├── reflections/                # 经验教训和反思
│   ├── releases/                   # 版本发布信息
│   └── rules/                      # 特定AI工具的规则
├── docs/                           # 项目文档（由人类和AI共同维护）
│   ├── decisions/                  # 决策记录
│   ├── debts/                      # 技术债务跟踪
│   ├── metrics/                    # 项目健康指标
│   ├── specs/                      # 技术规范
│   ├── guides/                     # 开发和使用指南
│   └── CHANGELOG.md                # 项目历史和变更日志（仅记录显著变更）
├── src/                            # 源代码
├── tests/                          # 测试代码
└── README.md                       # 项目概述
```

## 实施计划

实施将分为以下几个步骤：

1. 创建新的目录结构
2. 更新 `CLAUDE.md` 文件中的指导，以反映新的目录结构和工作流程
3. 为每种文档类型创建模板和示例
4. 更新相关的文档，如 `SOLUTIONS.md`
5. 创建第一个任务记录和反思文档，作为使用新结构的示例

## 回顾和验证

我们将在项目进行过程中持续评估这个结构的有效性，特别是以下方面：

1. 人类和 AI 之间的协作效率
2. 文档的可发现性和可读性
3. 长期维护的难易程度
4. 对新加入项目的人员的友好程度

如果发现问题，我们将考虑进一步优化结构。