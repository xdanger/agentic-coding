# 接口规范

本文档定义了 Agentic Coding 框架的关键接口规范，确保系统各组件之间的有效集成和通信。

## 1. 文档接口

### 1.1 决策记录格式 (docs/decisions/)

决策记录应遵循以下格式：

```markdown
# {SEQ}. {决策标题}

日期: YYYY-MM-DD
作者: {作者名}
状态: [提议 | 已接受 | 已拒绝 | 已取代 | 已废弃]

## 背景和问题陈述

[描述决策的背景和要解决的问题]

## 考虑的方案

### 方案 1: [方案名称]

[方案描述]

优点:
- [优点1]
- [优点2]

缺点:
- [缺点1]
- [缺点2]

### 方案 2: [方案名称]

[...]

## 决策结果

我们选择了方案 X，因为 [理由]。

## 实施计划

[描述如何实施此决策]

## 回顾和验证

[描述将如何验证这个决策是否成功]
```

### 1.2 技术债务记录格式 (docs/debts/)

```markdown
# {债务标题}

识别日期: YYYY-MM-DD
严重程度: [低 | 中 | 高 | 紧急]
影响范围: [本地化 | 多组件 | 全系统]
预计解决时间: [估计工作量]

## 问题描述

[详细描述技术债务问题]

## 影响评估

[描述这个技术债务对系统的影响]

## 建议的解决方案

[提出可能的解决方案]

## 优先级和时间表

[指明何时应该解决此问题及其优先级]
```

## 2. AI代理接口

### 2.1 任务记录格式 (.agent/tasks/)

```markdown
# 任务: {任务标题}

日期: YYYY-MM-DD_{SEQ}
请求者: {请求者名称}

## 任务描述和目标

[详细描述任务内容和期望达成的目标]

## 考虑的实施方法

[列出考虑过的不同实施方法]

## 做出的决定及理由

[描述最终选择的方法及其理由]

## 实施的更改

[详细记录所做的更改]

## 遇到的问题和解决方案

[记录任务执行过程中遇到的问题及其解决方法]

## 未来改进建议

[基于此次任务提出的改进建议]
```

### 2.2 反思记录格式 (.agent/reflections/)

```markdown
# 反思: {反思标题}

首次记录: YYYY-MM-DD
最后更新: YYYY-MM-DD
相关任务: [任务引用列表]

## 问题描述

[详细描述遇到的问题]

## 根本原因分析

[分析问题的根本原因]

## 解决方案

[描述采用的解决方案]

## 教训和最佳实践

[总结从这个反思中学到的教训和发现的最佳实践]

## 相关资源

[列出与此反思相关的文档、代码或外部资源]
```

## 3. 代码接口

（按项目需求，在此定义系统的核心代码接口）

## 4. 集成接口

### 4.1 AI与人类协作接口

- 人类通过更新 `/docs` 目录下的文档来提供系统级指导和决策
- AI通过更新 `/.agent` 目录下的记录来提供工作记录和反思
- 两者共同维护和更新 `/src` 和 `/tests` 目录的代码库

### 4.2 工具集成接口

- Claude Code: 通过 `/CLAUDE.md` 文件接收指令
- Cursor: 通过 `/.agent/rules/cursor-config.json` 配置
- 其他工具: 遵循各自的配置文件规范