# 编码标准

本文档定义了项目的编码标准和最佳实践，以确保代码质量和一致性。

## 通用原则

- 代码应当简洁、可读、可维护
- 遵循 DRY (Don't Repeat Yourself) 原则
- 编写有意义的注释，但避免过度注释
- 使用一致的命名约定

## 开发标准

### 1. 代码实现

- 创建优雅、简洁和高效的解决方案
- 如果初始解决方案不够理想，持续寻求更好的方法
- 解决所有 linter 错误和警告，不禁用严格类型检查

### 2. 代码审查和重构

#### 未使用的依赖

- 检查代码中是否使用了 package.json 中的所有依赖
- 识别已导入但未使用的模块
- 建议移除未使用的依赖

#### 代码冗余

- 搜索重复的功能
- 识别可以合并或简化的函数
- 检查过时的注释或文档

#### 性能优化

- 识别潜在的性能瓶颈
- 建议更高效的数据结构或算法
- 检查循环和递归实现的效率

#### 开发维护负担

- 评估每个依赖的必要性
- 考虑依赖的维护状态和安全风险
- 在适当的情况下建议更轻量或更现代的替代方案

### 3. 文档

- 在所有非可见页面代码中（包括注释和文档）使用英文
- 在注释或单独的文档文件中彻底记录所有最终需求
- 使用 [约定式提交](https://www.conventionalcommits.org/en/v1.0.0/) 和 [GitMoji](https://gitmoji.dev/) 进行提交消息

## 命名约定

- 类名：使用 PascalCase（首字母大写的驼峰命名法）
- 变量和函数：使用 camelCase（首字母小写的驼峰命名法）
- 常量：使用 UPPER_SNAKE_CASE（全大写的蛇形命名法）
- 私有成员：使用前缀下划线 _privateVariable

## 代码格式

- 使用 2 个空格进行缩进（不使用制表符）
- 行长度不超过 100 个字符
- 使用空行分隔逻辑相关的代码块
- 在适当的地方使用括号提高可读性
- 对象和数组字面量使用尾随逗号

## 异常处理

- 只捕获预期的异常，避免使用空 catch 块
- 使用有意义的错误消息，包括错误上下文
- 始终在异步函数中使用 try/catch 处理潜在的异常
- 使用自定义错误类型区分不同类型的错误

## 测试规范

- 为所有功能编写单元测试
- 测试名称应描述预期行为
- 遵循 Arrange-Act-Assert 模式
- 模拟外部依赖
- 力求高测试覆盖率（至少 80%）

## 文档规范

- 为所有公共 API 编写明确的文档
- 使用 JSDoc 或类似标准
- 保持文档与代码同步更新
- 包括代码示例说明复杂功能
- 记录任何非明显的假设或限制