# 经验: 项目结构重组与文档系统优化

首次记录: 2025-03-19
最后更新: 2025-03-19
相关任务: [2025-03/19_0001.md]

## 问题描述

在实施 Agentic Coding 框架时，我们面临着如何最优地组织项目结构的挑战。特别是，我们需要解决：

1. 如何明确区分人类和 AI 的职责范围
2. 如何组织文档，使其既能满足人类的理解需求，又能为 AI 提供必要的上下文
3. 如何确保重要信息不会因为目录结构变化而丢失

## 根本原因分析

项目结构问题的根本原因在于：

1. **关注点混合**：旧结构中未明确区分人类和 AI 的责任区域
2. **职责不明**：某些文档的维护责任不清晰，导致更新不一致
3. **上下文分散**：重要的上下文信息分散在多个位置，难以形成全局视图

## 解决方案

我们采取了以下解决方案：

1. **明确分工**：
   - `/docs/` 目录主要由人类和 AI 共同维护，包含项目的核心规范和决策
   - `/.agent/` 目录主要由 AI 维护，用于存储 AI 的工作记录和经验

2. **内容重组**：
   - 技术规范统一放在 `/docs/specs/` 目录
   - 将原本分散的多个标准文档（编码、文档、测试等）集中管理
   - 任务记录和经验反思使用结构化模板

3. **工作流程优化**：
   - 在 `CLAUDE.md` 中明确定义强制性工作流程要求
   - 为不同类型的任务（新功能、错误修复、重构）定义特定的工作流程
   - 使用强制性语言确保流程得到遵循

## 教训和最佳实践

从这次经验中，我们学到了以下几点：

1. **结构即治理**：目录结构不仅是文件组织方式，也是工作职责和流程的具体体现
2. **明确责任界限**：清晰地区分人类和 AI 的职责有助于提高协作效率
3. **模板的价值**：为各种文档提供结构化模板能大大提高一致性和完整性
4. **指令的明确性**：对 AI 的指令必须非常明确，最好使用强制性语言（"必须"）
5. **渐进式实施**：大型重组最好采用渐进式方法，先建立框架，再逐步填充内容

## 相关资源

- [README.md](/README.md) - 包含了项目结构变更的说明
- [CLAUDE.en.md](/CLAUDE.en.md) - 包含了新的工作流程定义
- [docs/specs/interfaces.md](/docs/specs/interfaces.md) - 定义了新的文档接口规范